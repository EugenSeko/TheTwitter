<?xml version="1.0" encoding="utf-8" ?>
<DataTemplate xmlns="http://xamarin.com/schemas/2014/forms"
              xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
              xmlns:flv="clr-namespace:DLToolkit.Forms.Controls;assembly=DLToolkit.Forms.Controls.FlowListView"
              xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
              xmlns:fftransformations="clr-namespace:FFImageLoading.Transformations;assembly=FFImageLoading.Transformations"
              x:Class="InterTwitter.Views.DataTemplates.ImageTweetDataTemplate">

    <StackLayout Spacing="0">
        <StackLayout Padding="15, 15, 15, 0"
                 Orientation="Horizontal"
                 Spacing="0">

            <ffimageloading:CachedImage
            VerticalOptions="Start"
            Source="man"
            HeightRequest="50"
            Margin="0, 0, 15, 0">

                <ffimageloading:CachedImage.Transformations>
                    <fftransformations:CircleTransformation/>
                </ffimageloading:CachedImage.Transformations>

            </ffimageloading:CachedImage>

            <StackLayout 
                     VerticalOptions="Start">

                <Label Text="{Binding UserName}" 
                   TextColor="Black" 
                   FontAttributes="Bold"/>

                <Label VerticalOptions="Start"
                   MaxLines="5" 
                   LineBreakMode="TailTruncation"
                   Text="{Binding Text}"/>

                <flv:FlowListView FlowColumnCount="{Binding CountColumn}"
                              RowHeight="{Binding RowHeight}"
                              HasUnevenRows="False"
                              HorizontalScrollBarVisibility="Never"
                              VerticalScrollBarVisibility="Never"
                              SeparatorVisibility="None"
                              FlowColumnExpand="First"
                              VerticalOptions="Start"
                              FlowItemsSource="{Binding ImagesPaths}">

                    <flv:FlowListView.FlowColumnTemplate>
                        <DataTemplate>
                            <Frame Margin="2"
                               Padding="0"
                               HasShadow="False"
                               CornerRadius="5"
                               IsClippedToBounds="True">

                                <ffimageloading:CachedImage Aspect="AspectFit"
                                                        Source="{Binding .}"/>

                            </Frame>
                        </DataTemplate>
                    </flv:FlowListView.FlowColumnTemplate>

                </flv:FlowListView>

                <StackLayout 
                      Orientation="Horizontal"
                      HeightRequest="20">

                    <Label Text="Time"/>
                    <Label Text="Like"/>
                    <Label Text="BookMark"/>

                </StackLayout>

            </StackLayout>
        </StackLayout>
        
        <BoxView HeightRequest="2"
                 BackgroundColor="Silver"/>
        
    </StackLayout>
    
    <!--<StackLayout Orientation="Horizontal" Padding="12, 0, 12, 0">

        <StackLayout Orientation="Vertical">
            <Label Text="{Binding UserName}" TextColor="Black" FontAttributes="Bold" />

            <Label Text="{Binding Text}" TextColor="Red" MaxLines="5" LineBreakMode="TailTruncation"/>

            <ListView x:Name="images" HasUnevenRows="True" ItemsSource="{Binding Images}">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <ImageCell ImageSource="{Binding .}" Height="120"/>
                    </DataTemplate>
                </ListView.ItemTemplate>

            </ListView>
        </StackLayout>
    </StackLayout>-->
</DataTemplate>